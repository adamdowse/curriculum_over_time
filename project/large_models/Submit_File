#Condor submit file

universe = docker
docker_image = #FILL THIS OUT

executable = /usr/local/bin/python3
arguments = $ENV(PWD)/RunTest.py --max_epochs $(max_epochs) --learning_rate $(lr_rate) --batch_size $(batch_size) --scoring_function $(scoring_function) --pacing_function $(pacing_function) --dataset $(dataset) --lam_zero $(lam_zero) --lam_pace $(lam_pace)

should_transfer_files = YES
environment = "mount=$ENV(PWD)"
when_to_transfer_output = ON_EXIT

log = $ENV(PWD)/condor/c$(cluster).p$(process).log
output = $ENV(PWD)/condor/c$(cluster).p$(process).out
error = $ENV(PWD)/condor/c$(cluster).p$(process).error


+CanCheckpoint = False
+JobRunTime = 4

request_GPUs = 1
+GPUMem = 4G
request_CPUs = 4
request_memory = 4G

#set the vars and runs here

max_epochs = 50
lr_rate = 0.01
batch_size = 32
scoring_function = "naive_grads"
pacing_function = "naive_linear_high_first"
dataset = 'mnist'
lam_zero = 0.1
lam_pace = 0.9

queue 1
